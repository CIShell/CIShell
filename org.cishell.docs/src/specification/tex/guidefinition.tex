\section{User Interface Specification}
\label{GUISpec}
\subsection*{\textit{Version 1.0}}
\subsection{Introduction}

For many algorithms, just looking at the data given isn't enough. Additional
parameters are often needed to know how to operate on a given piece of data. An
algorithm can define what parameters are needed by providing a
\class{MetaTypeProvider}. It defines the types, value range, and textual
description of the parameters needed. From this information, a user interface
(UI) can be created that asks a user for the data. The \class{MetaTypeProvider}
is not tied to any specific UI, so it can be reused depending on the context
(desktop application, web application, command line, etc.).

\class{MetaTypeProvider} is defined in the OSGi R4 Specification Service
Compendium as part of the Meta Type Service. \class{MetaTypeProvider}s can be
created in code or can be specified in an xml file (as defined in the
specification) and pulled out of the \class{MetaTypeService} service. A
\class{MetaTypeProvider} can be thought of as a collection of UIs. Each UI is
called an \class{ObjectClassDefinition}, which provides a UI name and
description and is a collection of parameters. Each parameter is an
\class{AttributeDefinition} which includes the type, label, description, default
value, and range of valid values. Drop-down boxes can also be defined by using
option labels and values with the \class{AttributeDefinition}. OSGi's
documentation should be consulted for more information.

\subsection{MetaTypeProvider Extensions}

Some minor extensions to \class{MetaTypeProvider} were made to support some use
cases. The \class{MetaTypeProvider} supports several primitive types such as
strings, integers, booleans, etc, but several useful types are missing. To
support more types, an \class{AttributeDefinition} (AD) of type ``string'' has
its default value set to a certain string so that the UI builder recognizes this
and selects an appropriate widget. When the algorithm receives the user entered
parameters, the associated value will be of type \class{java.lang.String}, but
should contain the correct value as defined below.

\subsubsection*{file:}
An AD with type ``string'' and default value ``file:'' will receive a string
pointing to the absolute path to the file selected by the end-user.

\subsubsection*{directory:}
An AD with type ``string'' and default value ``directory:'' will receive a string
pointing to the absolute path to the directory selected by the end-user.

\subsubsection*{password:}
An AD with type ``string'' and default value ``password:'' will receive a string
corresponding to the entered password.

\subsubsection*{rgb:} 
An AD with type ``string'' and default value ``rgb:'' will
receive a string which is a comma separated list that corresponds to the RGB
color values the user chose. Each item in the comma separated list would be
between 0 and 255. The first item would be the red value, second green value,
and third blue value.
